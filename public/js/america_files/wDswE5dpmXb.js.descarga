if (self.CavalryLogger) { CavalryLogger.start_js(["0rJ0a"]); }

__d("CometToastNotification_actor.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometToastNotification_actor",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometNotificationsListItem_actor"}],type:"Actor",abstractKey:"__isActor"};e.exports=a}),null);
__d("CometToastNotification_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometToastNotification_notification",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},{args:[{kind:"Literal",name:"isToast",value:!0}],kind:"FragmentSpread",name:"CometNotificationsListItem_notification"}],type:"Notification",abstractKey:null};e.exports=a}),null);
__d("CometNotificationsUpdateSeenStateMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"environment"},b={defaultValue:null,kind:"LocalArgument",name:"input"},c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notifications",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,b],kind:"Fragment",metadata:null,name:"CometNotificationsUpdateSeenStateMutation",selections:[{alias:null,args:c,concreteType:"NotificationsUpdateSeenOrReadResponsePayload",kind:"LinkedField",name:"notifications_update_seen_or_read",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometNotificationsBadgeCountFragment_viewer"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[b,a],kind:"Operation",name:"CometNotificationsUpdateSeenStateMutation",selections:[{alias:null,args:c,concreteType:"NotificationsUpdateSeenOrReadResponsePayload",kind:"LinkedField",name:"notifications_update_seen_or_read",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"3454182731283099",metadata:{},name:"CometNotificationsUpdateSeenStateMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometFriendNotificationsStateChangeSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"environment"},b={defaultValue:null,kind:"LocalArgument",name:"input"},c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"NotificationStateChangeSubscribeResponsePayload",kind:"LinkedField",name:"notification_state_change_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notification",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_update_timestamp",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,b],kind:"Fragment",metadata:null,name:"CometFriendNotificationsStateChangeSubscription",selections:c,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[b,a],kind:"Operation",name:"CometFriendNotificationsStateChangeSubscription",selections:c},params:{id:"3291362027598695",metadata:{subscriptionName:"notification_state_change_subscribe"},name:"CometFriendNotificationsStateChangeSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("CometToastCard.react",["ix","fbt","CometAccessibilityAnnouncement.react","CometCard.react","CometPressable.react","React","TetraIcon.react","TetraTextPairing.react","fbicon","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){var c=a.accessibilityAnnouncement,d=a.content,e=a.headline,f=a.onCloseClick;a=a.onMouseEnter;return i.jsxs(b("CometCard.react"),{background:"white",dropShadow:2,children:[i.jsxs("div",{className:"jbcpqwzg jq4qci2q cbu4d94t j83agx80 rq0escxv bi1v6m2q l82x9zwi uo3d90p7 pw54ja7n ue3kfks5",onMouseEnter:a,children:[i.jsx("div",{className:"n1l5q3vz",children:i.jsxs("div",{className:"dati1w0a qt6c0cv9 hv4rvrfc jb3vyjys i1fnvgqd j83agx80 bp9cbjyn",children:[i.jsx(b("TetraTextPairing.react"),{headline:e,level:4}),i.jsx(b("CometPressable.react"),{display:"inline",label:h._("Cerrar"),onPress:f,overlayDisabled:!0,children:i.jsx("span",{className:"b73ngqbp taijpn5t rgmg9uty j83agx80 owxd89k7 n3ddgdk9 h2jyy9rg br7hx15l tdjehn4e bp9cbjyn",children:i.jsx(b("TetraIcon.react"),{color:"primary",icon:b("fbicon")._(g("478231"),12),size:12})})})]})}),i.jsx("div",{className:"ecm0bbzt sj5x9vvc ezxwwwxp",role:"grid",children:d})]}),c!=null&&i.jsx(b("CometAccessibilityAnnouncement.react"),{children:c.text},c.id)]})}}),null);
__d("CometNotificationsUpdateSeenStateMutation",["CometNotificationsMutationLogger","CometNotificationsThinClientConnectionHandler","CometRelay","relay-runtime","CometNotificationsUpdateSeenStateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";f.CometNotificationsUpdateSeenStateMutation=a;var g,h=g!==void 0?g:g=b("CometNotificationsUpdateSeenStateMutation.graphql");f.mutation=h;function i(a,c){var d=c[0];if(d==null)return;c=a.get(b("relay-runtime").VIEWER_ID);if(c==null)return;a=b("CometNotificationsThinClientConnectionHandler").getConnection(c,"CometNotificationsList_notifications_page");if(a==null)return;a=a.getLinkedRecords("edges");if(a==null||a.length===0)return;var e=[];a.forEach(function(a){if(a==null)return;a=a.getLinkedRecord("node");if(a==null)return;var b=a.getType();if(b!=="NotifPageNotificationRow"&&b!=="NotifPageCachedNotificationRow")return;b=a.getLinkedRecord("notif");if(b==null)return;e.push(b)});a=e.findIndex(function(a){return a.getValue("id")===d});if(a<0)return;e[a]!=null&&e[a].setValue("SEEN_BUT_UNREAD","seen_state");a=c.getValue("notifications_unseen_count",{environment:"MAIN_SURFACE"});if(a==null)return;a=+a-1;c.setValue(Math.max(0,a),"notifications_unseen_count",{environment:"MAIN_SURFACE"})}function a(a,c,d){var e=function(a){var b=c.input;if(b==null)return;b=b.notif_ids;if(b==null)return;i(a,b);d&&d.updater&&d.updater(a)},f=b("CometNotificationsMutationLogger").notificationMarkAsSeenStart(),g=f.logOnError,j=f.logOnSuccess;return b("CometRelay").commitMutation(a,{mutation:h,onCompleted:function(){j(),d&&d.onSuccess()},onError:function(a){g(a),d&&d.onError(a)},optimisticUpdater:e,variables:c})}}),null);
__d("FriendingCometConfirmedFriendRequestToast.react",["fbt","CometNotificationsListItem.react","CometNotificationsUpdateSeenStateMutation","CometRelay","CometToastCard.react","React","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React"),i="MARK_SEEN",j="comet_toast",k="beeper";function a(a){var c,d=a.onCloseClick;a=a.response;a=a==null?void 0:a.friend_request_confirm_subscribe;var e=a==null?void 0:a.notif,f=e==null?void 0:e.id,l=e==null?void 0:e.seen_state,m=a==null?void 0:a.new_friend;a=a==null?void 0:(a=a.viewer)==null?void 0:a.actor;c=e==null?void 0:(c=e.body)==null?void 0:c.text;var n=h.useRef(!1),o=b("CometRelay").useRelayEnvironment(),p=h.useCallback(function(){if(f==null||l!=="UNSEEN_AND_UNREAD"||n.current===!0)return;b("CometNotificationsUpdateSeenStateMutation").CometNotificationsUpdateSeenStateMutation(o,{environment:"FRIENDS_TAB",input:{environment:"FRIENDS_TAB",is_comet:!0,last_notif_sync_time:0,notif_ids:[f],source:j,update_type:i}},{onError:function(a){b("recoverableViolation")("Failed to mark friend confirmed notification as seen in the toast: ","growth_friending",{error:a})},onSuccess:function(){n.current=!0}})},[o,f,l]);if(m==null||e==null)return null;m=f==null||c==null?null:{id:f,text:c};return h.jsx(b("CometToastCard.react"),{accessibilityAnnouncement:m,content:h.jsx(b("CometNotificationsListItem.react"),{actor:a,loggerContext:k,notification:e,onClick:d}),headline:g._("Nueva notificaci\u00f3n"),onCloseClick:d,onMouseEnter:p})}}),null);
__d("FriendingCometFriendRequestToast.react",["fbt","CometNotificationsListItem.react","CometNotificationsUpdateSeenStateMutation","CometRelay","CometToastCard.react","React","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React"),i="MARK_SEEN",j="comet_toast",k="beeper";function a(a){var c,d=a.onCloseClick;a=a.response;a=a==null?void 0:a.friend_request_receive_subscribe;var e=a==null?void 0:a.notif,f=e==null?void 0:e.id,l=e==null?void 0:e.seen_state;a=a==null?void 0:(a=a.viewer)==null?void 0:a.actor;c=e==null?void 0:(c=e.body)==null?void 0:c.text;var m=h.useRef(!1),n=b("CometRelay").useRelayEnvironment(),o=h.useCallback(function(){if(f==null||l!=="UNSEEN_AND_UNREAD"||m.current===!0)return;b("CometNotificationsUpdateSeenStateMutation").CometNotificationsUpdateSeenStateMutation(n,{environment:"FRIENDS_TAB",input:{environment:"FRIENDS_TAB",is_comet:!0,last_notif_sync_time:0,notif_ids:[f],source:j,update_type:i}},{onError:function(a){b("recoverableViolation")("Failed to mark friend notification as seen in the toast: ","growth_friending",{error:a})},onSuccess:function(){m.current=!0}})},[n,f,l]);if(e==null)return null;c=f==null||c==null?null:{id:f,text:c};return h.jsx(b("CometToastCard.react"),{accessibilityAnnouncement:c,content:h.jsx(b("CometNotificationsListItem.react"),{actor:a,loggerContext:k,notification:e,onClick:d}),headline:g._("Nueva notificaci\u00f3n"),onCloseClick:d,onMouseEnter:o})}}),null);
__d("FriendingCometSubscriptionToastHelper",["FriendingCometConfirmedFriendRequestToast.react","FriendingCometFriendRequestToast.react","React"],(function(a,b,c,d,e,f){"use strict";f.pushFriendingCometToast=a;f.pushFriendingConfirmedCometToast=c;f.deleteToastIfSeen=d;var g=b("React"),h={};function a(a,c){var d,e=a==null?void 0:a.friend_request_receive_subscribe;d=e==null?void 0:(d=e.notif)==null?void 0:d.seen_state;e=e==null?void 0:(e=e.notif)==null?void 0:e.notif_id;if(d==="UNSEEN_AND_UNREAD"&&e!=null){var f=c.push(g.jsx(b("FriendingCometFriendRequestToast.react"),{onCloseClick:function(){return c.expire(f)},response:a}),5e3);h[e]=f}}function c(a,c){var d,e=a==null?void 0:a.friend_request_confirm_subscribe;d=e==null?void 0:(d=e.notif)==null?void 0:d.seen_state;e=e==null?void 0:(e=e.notif)==null?void 0:e.notif_id;if(d==="UNSEEN_AND_UNREAD"&&e!=null){var f=c.push(g.jsx(b("FriendingCometConfirmedFriendRequestToast.react"),{onCloseClick:function(){return c.expire(f)},response:a}),5e3);h[e]=f}}function d(a,b,c){var d=c.getState();a!=="UNSEEN_AND_UNREAD"&&b in h&&((a=d[h[b]])==null?void 0:a.shown)!==!0&&(c["delete"](h[b]),delete h[b])}}),null);
__d("CometToastNotification.react",["fbt","CometNotificationsListItem.react","CometNotificationsUpdateSeenStateMutation","CometRelay","CometToastCard.react","React","recoverableViolation","requireDeferred","CometToastNotification_actor.graphql","CometToastNotification_notification.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=b("React"),k=b("requireDeferred")("NotifBeeperDismissFalcoEvent"),l="comet_toast",m="beeper",n="MAIN_SURFACE",o="MARK_SEEN";function a(a){var c,d=b("CometRelay").useRelayEnvironment(),e=b("CometRelay").useFragment(h!==void 0?h:h=b("CometToastNotification_actor.graphql"),a.actor),f=b("CometRelay").useFragment(i!==void 0?i:i=b("CometToastNotification_notification.graphql"),a.notification),p=f==null?void 0:f.id,q=f==null?void 0:f.seen_state,r=j.useCallback(function(){if(p==null||q!=="UNSEEN_AND_UNREAD")return;b("CometNotificationsUpdateSeenStateMutation").CometNotificationsUpdateSeenStateMutation(d,{environment:n,input:{environment:n,is_comet:!0,last_notif_sync_time:0,notif_ids:[p],source:l,update_type:o}},{onError:function(a){b("recoverableViolation")("Mark as seen mutation failed with an error: ","Notifications",{error:a})},onSuccess:function(){}})},[p,d,q]);if(f==null){b("recoverableViolation")("Comet Toast should have non-null notification","Notifications");return null}var s=a.onCloseClick;a=g._("Nueva notificaci\u00f3n");var t=e==null?void 0:e.id,u=f.notif_id;c=(c=f.body)==null?void 0:c.text;c=u==null||c==null?null:{id:u,text:c};return j.jsx(b("CometToastCard.react"),{accessibilityAnnouncement:c,content:j.jsx(b("CometNotificationsListItem.react"),{actor:e,loggerContext:m,notification:f,onClick:s}),headline:a,onCloseClick:function(){s(),u!=null&&t!=null&&k.onReady(function(a){a=a.log;return a(function(){return{notification_data:{alert_id:u,logger_context:m,user_id:t},ref:"www_tab"}})})},onMouseEnter:r})}}),null);
__d("CometFriendNotificationsStateChangeSubscription",["CometRelay","CurrentUser","FriendingCometSubscriptionToastHelper","RelayRTIGraphQLSubscriptionTopicProvider","relay-runtime","CometFriendNotificationsStateChangeSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";f.subscribeToFriendNotifs=a;var g,h=g!==void 0?g:g=b("CometFriendNotificationsStateChangeSubscription.graphql");f.subscription=h;var i={};function a(a,c){j();var d=function(a){a=a==null?void 0:(a=a.notification_state_change_subscribe)==null?void 0:a.notification;var d=a==null?void 0:a.seen_state;a=a==null?void 0:a.notif_id;d!=null&&a!=null&&b("FriendingCometSubscriptionToastHelper").deleteToastIfSeen(d,a,c)};return b("CometRelay").requestSubscription(a,{onNext:d,subscription:h,variables:{environment:"FRIENDS_TAB",input:{environment:"FRIENDS_TAB"}}})}function j(){var a=b("relay-runtime").getRequest(h);a=a.params.id;a!=null&&!i[a]&&(i[a]=!0,b("RelayRTIGraphQLSubscriptionTopicProvider").registerProvider(a,function(a){return"gqls/notification_state_change_subscribe/actor_id_"+b("CurrentUser").getID()+"_environment_"+a.input.environment}))}}),null);